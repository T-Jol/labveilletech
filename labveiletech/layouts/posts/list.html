{{ define "title" }}
  Articles · {{ .Site.Title }}
{{ end }}
{{ define "content" }}
  <section class="container list">
    <header style="margin-top: 6.4rem; margin-bottom: 3.2rem;">
      <h1 class="title" style="font-size: 4.2rem; line-height: 4.6rem; margin: 0;">
        <a class="title-link" href="{{ .Permalink | safeURL }}" style="color: inherit; text-decoration: none;">
          Articles
        </a>
      </h1>
    </header>
    {{ if .Content }}
    <div style="margin-bottom: 3.2rem; font-size: 1.8rem; line-height: 1.8em; color: var(--fg-color);">
      {{ .Content }}
    </div>
    {{ end }}
    
    {{- $regularArticles := slice -}}
    {{- $formationArticles := slice -}}
    {{- range .Paginator.Pages -}}
      {{- if eq .Params.articleType "formation" -}}
        {{- $formationArticles = $formationArticles | append . -}}
      {{- else -}}
        {{- $regularArticles = $regularArticles | append . -}}
      {{- end -}}
    {{- end -}}
    
    {{ if $regularArticles }}
    <ul style="list-style: none; padding: 0; margin: 0;">
      {{- range $regularArticles -}}
        {{- .Render "li" -}}
      {{- end }}
    </ul>
    {{ end }}
    
    {{ if and $formationArticles $regularArticles }}
    <div style="margin: 5rem 0 3rem 0; padding: 2rem 0; border-top: 2px solid var(--alt-bg-color); border-bottom: 2px solid var(--alt-bg-color);">
      <h2 style="font-size: 2.4rem; font-weight: 600; color: var(--alt-fg-color); margin-bottom: 2rem;">
        Article méthodologique
      </h2>
      <ul style="list-style: none; padding: 0; margin: 0;">
        {{- range $formationArticles -}}
          {{- .Render "li" -}}
        {{- end }}
      </ul>
    </div>
    {{ else if $formationArticles }}
    <ul style="list-style: none; padding: 0; margin: 0;">
      {{- range $formationArticles -}}
        {{- .Render "li" -}}
      {{- end }}
    </ul>
    {{ end }}
    
    {{ if and (not $regularArticles) (not $formationArticles) }}
    <ul style="list-style: none; padding: 0; margin: 0;">
      {{- range .Paginator.Pages -}}
        {{- .Render "li" -}}
      {{- end }}
    </ul>
    {{ end }}

    {{ partial "pagination.html" . }}
  </section>
{{ end }}
